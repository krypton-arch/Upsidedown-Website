/* ===================================
   CRT EFFECTS
   =================================== */

/* Scanline Overlay */
.crt-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    pointer-events: none;
    z-index: 9999;
    background: repeating-linear-gradient(0deg,
            rgba(0, 0, 0, 0.15),
            rgba(0, 0, 0, 0.15) 1px,
            transparent 1px,
            transparent 2px);
}

/* Scanline Animation */
.crt-scanline {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    pointer-events: none;
    z-index: 9998;
    background: linear-gradient(to bottom,
            transparent 0%,
            rgba(51, 255, 0, 0.03) 50%,
            transparent 100%);
    background-size: 100% 4px;
    animation: crt-scroll 8s linear infinite;
}

@keyframes crt-scroll {
    0% {
        transform: translateY(-100%);
    }

    100% {
        transform: translateY(100vh);
    }
}

/* Screen Curvature Effect */
.crt-screen {
    position: relative;
}

.crt-screen::before {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(ellipse at center,
            transparent 0%,
            transparent 60%,
            rgba(0, 0, 0, 0.4) 100%);
    pointer-events: none;
    z-index: 100;
}

/* Phosphor Glow */
.phosphor-glow {
    text-shadow:
        0 0 2px var(--retro-green),
        0 0 5px var(--retro-green),
        0 0 10px rgba(51, 255, 0, 0.5);
}

/* CRT Turn On Effect */
@keyframes crt-on {
    0% {
        transform: scaleY(0.01) scaleX(0);
        filter: brightness(30);
    }

    20% {
        transform: scaleY(0.01) scaleX(1);
    }

    50% {
        transform: scaleY(1) scaleX(1);
        filter: brightness(1.5);
    }

    100% {
        transform: scaleY(1) scaleX(1);
        filter: brightness(1);
    }
}

.crt-on {
    animation: crt-on 0.5s ease-out forwards;
}

/* Static Noise Overlay */
.static-noise {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    pointer-events: none;
    z-index: 9997;
    opacity: 0.03;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
    animation: noise 0.5s steps(10) infinite;
}

/* Vignette Effect */
.vignette {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    pointer-events: none;
    z-index: 9996;
    box-shadow: inset 0 0 150px rgba(0, 0, 0, 0.7);
}

/* Interlace Effect */
.interlace {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    pointer-events: none;
    z-index: 9995;
    background: repeating-linear-gradient(0deg,
            rgba(0, 0, 0, 0) 0px,
            rgba(0, 0, 0, 0) 1px,
            rgba(0, 0, 0, 0.1) 1px,
            rgba(0, 0, 0, 0.1) 2px);
}

/* RGB Shift on Images */
.rgb-shift {
    position: relative;
}

.rgb-shift::before,
.rgb-shift::after {
    content: '';
    position: absolute;
    inset: 0;
    background: inherit;
    background-size: cover;
    mix-blend-mode: screen;
    pointer-events: none;
}

.rgb-shift::before {
    left: 2px;
    filter: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='r'%3E%3CfeColorMatrix values='1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0'/%3E%3C/filter%3E%3C/svg%3E#r");
    opacity: 0.5;
}

.rgb-shift::after {
    left: -2px;
    filter: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='b'%3E%3CfeColorMatrix values='0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 1 0'/%3E%3C/filter%3E%3C/svg%3E#b");
    opacity: 0.5;
}